lm.utils.ReactComponentHandler=function(t,n){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=n,this._reactClass=this._getReactClass(),this._container.on("open",this._render,this),this._container.on("destroy",this._destroy,this)},lm.utils.copy(lm.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off("open",this._render,this),this._container.off("destroy",this._destroy,this)},_onUpdate:function(t,n){this._container.setState(n),this._originalComponentWillUpdate.call(this._reactComponent,t,n)},_getReactClass:function(){var t,n=this._container._config.component;if(!n)throw new Error("No react component name. type: react-component needs a field `component`");if(t=this._container.layoutManager.getComponent(n),!t)throw new Error('React component "'+n+'" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=$.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}});