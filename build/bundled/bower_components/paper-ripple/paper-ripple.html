<html><head><link rel="import" href="../polymer/polymer.html">

</head><body><polymer-element name="paper-ripple" attributes="initialOpacity opacityDecayVelocity">
<template>

  <style>:host{display:block;position:relative;border-radius:inherit;overflow:hidden;}:host-context([noink]){pointer-events:none;}#bg, #waves, .wave-container, .wave{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;}#bg, .wave{opacity:0;}#waves, .wave{overflow:hidden;}.wave-container, .wave{border-radius:50%;}:host(.circle) #bg,
    :host(.circle) #waves{border-radius:50%;}:host(.circle) .wave-container{overflow:hidden;}</style>

  <div id="bg"></div>
  <div id="waves">
  </div>

</template>
<script>!function(){function t(t,i,a){var e=t/1e3,n=i/1e3,o=e+n,r=a.width,s=a.height,c=1.1*Math.min(Math.sqrt(r*r+s*s),u)+5,h=1.1-.2*(c/u),l=o/h,w=c*(1-Math.pow(80,-l));return Math.abs(w)}function i(t,i,a){var e=i/1e3;return i<=0?a.initialOpacity:Math.max(0,a.initialOpacity-e*a.opacityDecayVelocity)}function a(t,a,e){var n=t/1e3,o=.3*n,r=i(t,a,e);return Math.max(0,Math.min(o,r))}function e(t,a,e){var n=i(t.tDown,t.tUp,e);return n<.01&&a>=Math.min(t.maxRadius,u)}function n(t,a,e){var n=i(t.tDown,t.tUp,e);return n>=e.initialOpacity&&a>=Math.min(t.maxRadius,u)}function o(t,i,a,e,n,o){void 0!==o&&(t.bg.style.opacity=o),t.wave.style.opacity=n;var r=e/(t.containerSize/2),s=i-t.containerWidth/2,c=a-t.containerHeight/2;t.wc.style.webkitTransform="translate3d("+s+"px,"+c+"px,0)",t.wc.style.transform="translate3d("+s+"px,"+c+"px,0)",t.wave.style.webkitTransform="scale("+r+","+r+")",t.wave.style.transform="scale3d("+r+","+r+",1)"}function r(t){var i=window.getComputedStyle(t),a=i.color,e=document.createElement("div");e.style.backgroundColor=a,e.classList.add("wave");var n=document.createElement("div");n.classList.add("wave-container"),n.appendChild(e);var o=t.$.waves;o.appendChild(n),t.$.bg.style.backgroundColor=a;var r={bg:t.$.bg,wc:n,wave:e,waveColor:a,maxRadius:0,isMouseDown:!1,mouseDownStart:0,mouseUpStart:0,tDown:0,tUp:0};return r}function s(t,i){if(t.waves){var a=t.waves.indexOf(i);t.waves.splice(a,1),i.wc.remove()}}function c(t,i){var a=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"undefined"==typeof i&&(i=1),a?"rgba("+a[1]+", "+a[2]+", "+a[3]+", "+i+")":"rgba(255, 255, 255, "+i+")"}function h(t,i){return Math.sqrt(w(t.x-i.x,2)+w(t.y-i.y,2))}function l(t,i){var a=h(t,{x:0,y:0}),e=h(t,{x:i.w,y:0}),n=h(t,{x:0,y:i.h}),o=h(t,{x:i.w,y:i.h});return Math.max(a,e,n,o)}var u=150,w=Math.pow,p=Date.now;window.performance&&performance.now&&(p=performance.now.bind(performance)),Polymer("paper-ripple",{initialOpacity:.25,opacityDecayVelocity:.8,backgroundFill:!0,pixelDensity:2,eventDelegates:{down:"downAction",up:"upAction"},ready:function(){this.waves=[]},downAction:function(t){var i=r(this);this.cancelled=!1,i.isMouseDown=!0,i.tDown=0,i.tUp=0,i.mouseUpStart=0,i.mouseDownStart=p();var a=this.getBoundingClientRect(),e=a.width,n=a.height,o=t.x-a.left,s=t.y-a.top;i.startPosition={x:o,y:s},this.classList.contains("recenteringTouch")&&(i.endPosition={x:e/2,y:n/2},i.slideDistance=h(i.startPosition,i.endPosition)),i.containerSize=Math.max(e,n),i.containerWidth=e,i.containerHeight=n,i.maxRadius=l(i.startPosition,{w:e,h:n}),i.wc.style.top=(i.containerHeight-i.containerSize)/2+"px",i.wc.style.left=(i.containerWidth-i.containerSize)/2+"px",i.wc.style.width=i.containerSize+"px",i.wc.style.height=i.containerSize+"px",this.waves.push(i),this._loop||(this._loop=this.animate.bind(this,{width:e,height:n}),requestAnimationFrame(this._loop))},upAction:function(){for(var t=0;t<this.waves.length;t++){var i=this.waves[t];if(i.isMouseDown){i.isMouseDown=!1,i.mouseUpStart=p(),i.mouseDownStart=0,i.tUp=0;break}}this._loop&&requestAnimationFrame(this._loop)},cancel:function(){this.cancelled=!0},animate:function(r){for(var h=!1,l=[],u=0,w=0,d=null,v={initialOpacity:this.initialOpacity,opacityDecayVelocity:this.opacityDecayVelocity,height:r.height,width:r.width},m=0;m<this.waves.length;m++){var y=this.waves[m];y.mouseDownStart>0&&(y.tDown=p()-y.mouseDownStart),y.mouseUpStart>0&&(y.tUp=p()-y.mouseUpStart);var f=y.tUp,x=y.tDown;u=Math.max(u,x),w=Math.max(w,f);var g=t(x,f,v),D=i(x,f,v);c(y.waveColor,D);d=y.waveColor;var M=y.startPosition.x,b=y.startPosition.y;if(y.endPosition){var S=Math.min(1,g/y.containerSize*2/Math.sqrt(2));M+=S*(y.endPosition.x-y.startPosition.x),b+=S*(y.endPosition.y-y.startPosition.y)}var P=null;if(this.backgroundFill){var U=a(x,f,v);P=c(y.waveColor,U)}o(y,M,b,g,D,U);var C=n(y,g,v),k=e(y,g,v),_=!k||C,z=y.mouseUpStart?!k:!C;h=h||z,_&&!this.cancelled||l.push(y)}h&&requestAnimationFrame(this._loop);for(var m=0;m<l.length;++m){var y=l[m];s(this,y)}!this.waves.length&&this._loop&&(this.$.bg.style.backgroundColor=null,this._loop=null,this.fire("core-transitionend"))}})}();</script>
</polymer-element>
</body></html>