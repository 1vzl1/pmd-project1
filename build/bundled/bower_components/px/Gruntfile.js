module.exports=function(e){"use strict";var s="",t={name:"px.js",app:"public",test:"test",server:"server",src:"src",dist:"dist",bower:"public/bower_components",tmp:".tmp",dev:{options:{variables:{repo:"DSP-SNAPSHOT"}}},prod:{options:{variables:{repo:"DSP"}}}};e.option("buildNumber")&&(s=e.option("buildNumber"));require("connect-livereload")({port:t.livereload});require("load-grunt-tasks")(e),e.initConfig({pkg:e.file.readJSON("package.json"),meta:{banner:'/**\n * <%= pkg.name %>\n * @version v<%= pkg.version %> - <%= grunt.template.today("yyyy-mm-dd") %>\n * @link <%= pkg.homepage %>\n * @author <%= pkg.author.name %> <<%= pkg.author.email %>>\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n'},config:t,watch:{options:{nospawn:!0,livereload:"<%= connect.livereload %>"},test:{files:["test/**/*.js"],tasks:["karma"]}},clean:{build:["<%= config.dist %>"],test:["test-target/"]},karma:{runner:{configFile:"karma.conf.js",singleRun:!0}},jshint:{options:{jshintrc:".jshintrc"},src:["<%= config.src %>/**/*.js"],test:["<%= config.test %>/e2e/**/*.js","<%= config.test %>/spec/**/*.js"]},changelog:{sample:{options:{dest:"release-notes/<%= pkg.version %>.txt",partials:{features:"{{#each features}}{{> feature}}{{/each}}",feature:"[NEW] {{this}}\n",fixes:"{{#each fixes}}{{> fix}}{{/each}}",fix:"[FIX] {{this}}\n"}}}},bump:{options:{files:["package.json"],updateConfigs:[],commit:!0,commitMessage:"Release v%VERSION%",commitFiles:["package.json"],createTag:!0,tagName:"v%VERSION%",tagMessage:"Version %VERSION%",push:!0,pushTo:"origin",gitDescribeOptions:"--tags --always --abbrev=1 --dirty=-d"}},concat:{options:{stripBanners:!0},dist:{src:["<%= config.src %>/<%= pkg.name %>.js"],dest:"<%= config.dist %>/<%= pkg.name %>.js"}},uglify:{options:{},dist:{src:"<%= config.src %>/*.js",dest:"<%= config.dist %>/<%= pkg.name %>.min.js"}},insert:{insertpxjs:{src:"dist/px.min.js",dest:"dist/px-library.html",match:"!!px.js script goes here!!"}},copy:{copypxtemplate:{src:"src/_px-library.html",dest:"dist/px-library.html"}}}),e.loadNpmTasks("grunt-insert"),e.loadNpmTasks("grunt-contrib-copy"),e.registerTask("dist",["clean:build","jshint:src","uglify"]),e.registerTask("test",["jshint:test","clean:test","karma"]),e.registerTask("default","Basic build",["test","dist","copy","insert"])};