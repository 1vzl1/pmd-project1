<html><head><link rel="import" href="../../../module.html">
<link rel="import" href="../../bind.html">
<link rel="import" href="../../bind-effects.html">
  
<script>using(["bind"],function(o){var e=document.querySelector("#bd");e.innerHTML+="<hr><h3>bind demo</h3><hr>";var n={};o.prepareModel(n),o.addPropertyEffect(n,"foo","observer","fooChange"),o.addPropertyEffect(n,"foo","observer","fooWork"),n.fooChange=function(o){e.innerHTML+="<b>fooChange</b>: effect of changing foo to "+o+"\n",console.log("fooChange: effect of changing foo to %d",o)},n.fooWork=function(o){e.innerHTML+="<b>fooWork</b>: effect of changing foo to "+o+"\n",console.log("fooWork: effect of changing foo to %d",o)},o.addComputedPropertyEffect(n,"bar","computeFooTimes2(foo)"),n.computeFooTimes2=function(o){var n=2*o;return e.innerHTML+="<b>computeFooTimes2</b>: calculated "+n+" as an effect of changing foo to "+o+"\n",console.log("computeFooTimes2: calculated %d as effect of changing foo to %d",n,o),n},o.addBuilder("async",function(o,e,n){var f=function(){var o="_propertyTask";clearTimeout(this[o]),this[o]=setTimeout(function(){this.effect(this.property),this[o]=0}.bind(this))},t=f.toString().split("\n").slice(1,-1).join("\n");return t.replace(/property/g,e).replace(/effect/g,n)}),o.addPropertyEffect(n,"foo","async","asyncFoo"),n.asyncFoo=function(o){e.innerHTML+="<b>asyncFoo</b>: effect of changing foo to "+o+"\n",console.log("asyncFoo: effect of changing foo to %d",o)},o.prepareInstance(n),o.createBindings(n),n.foo=3,n.foo=6});</script></head><body></body></html>