<html><head><link rel="import" href="../lib/style-util.html">
<link rel="import" href="../lib/style-properties.html">
<link rel="import" href="../lib/settings.html">
<link rel="import" href="../lib/style-defaults.html">
<link rel="import" href="../lib/style-cache.html">

<script>!function(){"use strict";var t=Polymer.Base.serializeValueToAttribute,e=Polymer.StyleProperties,s=Polymer.StyleTransformer,o=Polymer.StyleDefaults,i=Polymer.Settings.useNativeShadow,r=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){r||(this._ownStylePropertyNames=this._styles&&this._styles.length?e.decorateStyles(this._styles,this):null)},customStyle:null,getComputedStyleValue:function(t){return!r&&this._styleProperties&&this._styleProperties[t]||getComputedStyle(this).getPropertyValue(t)},_setupStyleProperties:function(){this.customStyle={},this._styleCache=null,this._styleProperties=null,this._scopeSelector=null,this._ownStyleProperties=null,this._customStyle=null},_needsStyleProperties:function(){return Boolean(!r&&this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_beforeAttached:function(){this._scopeSelector&&!this.__stylePropertiesInvalid||!this._needsStyleProperties()||(this.__stylePropertiesInvalid=!1,this._updateStyleProperties())},_findStyleHost:function(){for(var t,e=this;t=Polymer.dom(e).getOwnerRoot();){if(Polymer.isInstance(t.host))return t.host;e=t.host}return o},_updateStyleProperties:function(){var t,s=this._findStyleHost();s._styleCache||(s._styleCache=new Polymer.StyleCache);var o=e.propertyDataFromStyles(s._styles,this),r=!this.__notStyleScopeCacheable;r&&(o.key.customStyle=this.customStyle,t=s._styleCache.retrieve(this.is,o.key,this._styles));var y=Boolean(t);y?this._styleProperties=t._styleProperties:this._computeStyleProperties(o.properties),this._computeOwnStyleProperties(),y||(t=l.retrieve(this.is,this._ownStyleProperties,this._styles));var h=Boolean(t)&&!y,p=this._applyStyleProperties(t);y||(p=p&&i?p.cloneNode(!0):p,t={style:p,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},r&&(o.key.customStyle={},this.mixin(o.key.customStyle,this.customStyle),s._styleCache.store(this.is,t,o.key,this._styles)),h||l.store(this.is,Object.create(t),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(t){var s=this._findStyleHost();s._styleProperties||s._computeStyleProperties();var o=Object.create(s._styleProperties),i=e.hostAndRootPropertiesForScope(this);this.mixin(o,i.hostProps),t=t||e.propertyDataFromStyles(s._styles,this).properties,this.mixin(o,t),this.mixin(o,i.rootProps),e.mixinCustomStyle(o,this.customStyle),e.reify(o),this._styleProperties=o},_computeOwnStyleProperties:function(){for(var t,e={},s=0;s<this._ownStylePropertyNames.length;s++)t=this._ownStylePropertyNames[s],e[t]=this._styleProperties[t];this._ownStyleProperties=e},_scopeCount:0,_applyStyleProperties:function(t){var s=this._scopeSelector;this._scopeSelector=t?t._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;var o=e.applyElementStyle(this,this._styleProperties,this._scopeSelector,t&&t.style);return i||e.applyElementScopeSelector(this,this._scopeSelector,s,this._scopeCssViaAttr),o},serializeValueToAttribute:function(e,s,o){if(o=o||this,"class"===s&&!i){var r=o===this?this.domHost||this.dataHost:this;r&&(e=r._scopeElementClass(o,e))}o=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(o):o,t.call(this,e,s,o)},_scopeElementClass:function(t,e){return i||this._scopeCssViaAttr||(e=(e?e+" ":"")+y+" "+this.is+(t._scopeSelector?" "+h+" "+t._scopeSelector:"")),e},updateStyles:function(t){t&&this.mixin(this.customStyle,t),r?e.updateNativeStyleProperties(this,this.customStyle):(this.isAttached?this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null:this.__stylePropertiesInvalid=!0,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(t){t=t||this.root;for(var e,s=Polymer.dom(t)._query(function(t){return t.shadyRoot||t.shadowRoot}),o=0,i=s.length;o<i&&(e=s[o]);o++)e.updateStyles&&e.updateStyles()}}),Polymer.updateStyles=function(t){o.updateStyles(t),Polymer.Base._updateRootStyles(document)};var l=new Polymer.StyleCache;Polymer.customStyleCache=l;var y=s.SCOPE_NAME,h=e.XSCOPE_NAME}();</script>
</head><body></body></html>